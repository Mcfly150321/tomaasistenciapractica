<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Tomador de Asistencia</title>

        <!-- Selector de plan -->
        <label for="plan">Plan</label>
        <select id="plan">
            <option value="">-- Seleccione un plan --</option>
            <option value="diario">Diario</option>
            <option value="ejecutivo">Ejecutivo</option>
            <option value="fin_de_semana">Fin de semana</option>
        </select>

        <label for="date">Fecha</label>
        <input type="date" id="date" />

        <button id="btnInit" onclick="initAssistance()">1. Iniciar Asistencia del Día</button>

        <div id="initMessage"></div>

        <hr />

        <!-- Sección de Escaneo -->
        <div id="markingSection" style="display:none;">
            <h3>2. Escanee el Código QR</h3>
            
            <div id="scannerWrapper">
                <div id="reader"></div>
                <!-- Overlay de éxito -->
                <div id="successOverlay">
                    <div class="checkmark">✓</div>
                </div>
            </div>

            <div style="margin-top: 15px;">
                <label for="carnet">Ingreso manual (Hash)</label>
                <input type="text" id="carnet" placeholder="O ingrese el hash manualmente" onkeypress="handleEnter(event)" />
                <button onclick="submitAssistance()">Registrar</button>
            </div>
            
            <div id="message"></div>
        </div>

        <hr />
        
        <!-- Lista de alumnas para visualización -->
        <button onclick="loadStudents()">Ver listado de alumnas</button>
        <ul id="studentList"></ul>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/html5-qrcode"></script>
    <script src="/app.js"></script>

</body>
</html>
